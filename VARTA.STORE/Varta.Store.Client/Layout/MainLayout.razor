@inherits LayoutComponentBase
@inject NavigationManager NavManager

<MudThemeProvider IsDarkMode="true" />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
    <MudAppBar Elevation="0" Fixed="true" Class="blur-navbar px-8" Style="z-index: 2000;">
        <MudIcon Icon="@Icons.Material.Filled.Shield" Color="Color.Warning" Size="Size.Large" Class="mr-2"/>
        <MudText Typo="Typo.h5" Style="font-weight: 900; letter-spacing: 2px; cursor: pointer;"
                 @onclick='() => NavManager.NavigateTo("/")'>
            VARTA
        </MudText>

        <MudSpacer />

        <MudHidden Breakpoint="Breakpoint.MdAndDown">
            <MudButton Variant="Variant.Text" Color="Color.Inherit" Class="nav-link mx-2"
                       OnClick='() => NavManager.NavigateTo("/")'>
                ГОЛОВНА
            </MudButton>

            <MudButton Variant="Variant.Text" Color="Color.Inherit" Class="nav-link mx-2"
                       OnClick='() => NavManager.NavigateTo("/store")'>
                МАГАЗИН
            </MudButton>
            
        </MudHidden>

        <MudHidden Breakpoint="Breakpoint.LgAndUp">
            <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.End" />
        </MudHidden>
    </MudAppBar>

    <MudMainContent Class="pt-0">
        <div class="d-flex flex-column" style="min-height: 100vh;">
            <div class="flex-grow-1">
                @Body
            </div>
            <Varta.Store.Client.Layout.MainFooter />
        </div>
    </MudMainContent>
</MudLayout>

<style>
    .blur-navbar {
        background-color: rgba(30, 30, 45, 0.9) !important;
        backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(255,255,255,0.05);
        transition: background-color 0.3s;
    }
    .nav-link { font-weight: bold; letter-spacing: 1px; }
    body { background-color: #121212; margin: 0; }
</style>